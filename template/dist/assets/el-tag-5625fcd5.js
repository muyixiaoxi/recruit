import{S as de,w as ne,k as me,x as ve,m as he}from"./el-checkbox-9b10d3c1.js";import{c1 as pe,aV as I,c2 as re,c3 as ae,A as ge,c4 as ye,aW as be,bR as we,aN as K,I as X,J as B,x as Se,K as se,bU as Ee,r as p,y as R,O as Te,bG as D,br as Y,b as H,i as $,w as oe,Q as _e,d as F,T as M,D as b,W as U,R as xe,aq as Ce,a5 as le,c as ie,j as G,F as Re,aO as ze,a7 as L,aP as q,C as J,V as ke,P as Q,am as Ae,L as Pe,o as Le,bF as He,S as Me,av as Oe,ar as Ne,a9 as Ie,aw as Be,bY as We}from"./index-5439ded0.js";var De=/\s/;function $e(e){for(var t=e.length;t--&&De.test(e.charAt(t)););return t}var Fe=/^\s+/;function Ue(e){return e&&e.slice(0,$e(e)+1).replace(Fe,"")}var V=0/0,Ke=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,Ge=parseInt;function Z(e){if(typeof e=="number")return e;if(pe(e))return V;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ue(e);var n=Xe.test(e);return n||Ye.test(e)?Ge(e.slice(2),n?2:8):Ke.test(e)?V:+e}var qe=1,Je=2;function Qe(e,t,n,a){var l=n.length,f=l,c=!a;if(e==null)return!f;for(e=Object(e);l--;){var i=n[l];if(c&&i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++l<f;){i=n[l];var o=i[0],m=e[o],v=i[1];if(c&&i[2]){if(m===void 0&&!(o in e))return!1}else{var u=new de;if(a)var h=a(m,v,o,e,t,u);if(!(h===void 0?ne(v,m,qe|Je,a,u):h))return!1}}return!0}function ue(e){return e===e&&!I(e)}function Ve(e){for(var t=me(e),n=t.length;n--;){var a=t[n],l=e[a];t[n]=[a,l,ue(l)]}return t}function ce(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function Ze(e){var t=Ve(e);return t.length==1&&t[0][2]?ce(t[0][0],t[0][1]):function(n){return n===e||Qe(n,e,t)}}var je=1,et=2;function tt(e,t){return re(e)&&ue(t)?ce(ae(e),t):function(n){var a=ge(n,e);return a===void 0&&a===t?ve(n,e):ne(t,a,je|et)}}function nt(e){return function(t){return t==null?void 0:t[e]}}function rt(e){return function(t){return ye(t,e)}}function at(e){return re(e)?nt(ae(e)):rt(e)}function xt(e){return typeof e=="function"?e:e==null?he:typeof e=="object"?be(e)?tt(e[0],e[1]):Ze(e):at(e)}var st=function(){return we.Date.now()};const W=st;var ot="Expected a function",lt=Math.max,it=Math.min;function Ct(e,t,n){var a,l,f,c,i,o,m=0,v=!1,u=!1,h=!0;if(typeof e!="function")throw new TypeError(ot);t=Z(t)||0,I(n)&&(v=!!n.leading,u="maxWait"in n,f=u?lt(Z(n.maxWait)||0,t):f,h="trailing"in n?!!n.trailing:h);function g(s){var r=a,d=l;return a=l=void 0,m=s,c=e.apply(d,r),c}function w(s){return m=s,i=setTimeout(S,t),v?g(s):c}function z(s){var r=s-o,d=s-m,y=t-r;return u?it(y,f-d):y}function x(s){var r=s-o,d=s-m;return o===void 0||r>=t||r<0||u&&d>=f}function S(){var s=W();if(x(s))return E(s);i=setTimeout(S,z(s))}function E(s){return i=void 0,h&&a?g(s):(a=l=void 0,c)}function k(){i!==void 0&&clearTimeout(i),m=0,a=o=l=i=void 0}function A(){return i===void 0?c:E(W())}function T(){var s=W(),r=x(s);if(a=arguments,l=this,o=s,r){if(i===void 0)return w(o);if(u)return clearTimeout(i),i=setTimeout(S,t),g(o)}return i===void 0&&(i=setTimeout(S,t)),c}return T.cancel=k,T.flush=A,T}const C=4,ut={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},ct=({move:e,size:t,bar:n})=>({[n.size]:t,transform:"translate".concat(n.axis,"(").concat(e,"%)")}),fe=Symbol("scrollbarContextKey"),ft=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),dt="Thumb",mt=B({__name:"thumb",props:ft,setup(e){const t=e,n=Se(fe),a=se("scrollbar");n||Ee(dt,"can not inject scrollbar context");const l=p(),f=p(),c=p({}),i=p(!1);let o=!1,m=!1,v=le?document.onselectstart:null;const u=R(()=>ut[t.vertical?"vertical":"horizontal"]),h=R(()=>ct({size:t.size,move:t.move,bar:u.value})),g=R(()=>l.value[u.value.offset]**2/n.wrapElement[u.value.scrollSize]/t.ratio/f.value[u.value.offset]),w=s=>{var r;if(s.stopPropagation(),s.ctrlKey||[1,2].includes(s.button))return;(r=window.getSelection())==null||r.removeAllRanges(),x(s);const d=s.currentTarget;d&&(c.value[u.value.axis]=d[u.value.offset]-(s[u.value.client]-d.getBoundingClientRect()[u.value.direction]))},z=s=>{if(!f.value||!l.value||!n.wrapElement)return;const r=Math.abs(s.target.getBoundingClientRect()[u.value.direction]-s[u.value.client]),d=f.value[u.value.offset]/2,y=(r-d)*100*g.value/l.value[u.value.offset];n.wrapElement[u.value.scroll]=y*n.wrapElement[u.value.scrollSize]/100},x=s=>{s.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",E),v=document.onselectstart,document.onselectstart=()=>!1},S=s=>{if(!l.value||!f.value||o===!1)return;const r=c.value[u.value.axis];if(!r)return;const d=(l.value.getBoundingClientRect()[u.value.direction]-s[u.value.client])*-1,y=f.value[u.value.offset]-r,P=(d-y)*100*g.value/l.value[u.value.offset];n.wrapElement[u.value.scroll]=P*n.wrapElement[u.value.scrollSize]/100},E=()=>{o=!1,c.value[u.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E),T(),m&&(i.value=!1)},k=()=>{m=!1,i.value=!!t.size},A=()=>{m=!0,i.value=o};Te(()=>{T(),document.removeEventListener("mouseup",E)});const T=()=>{document.onselectstart!==v&&(document.onselectstart=v)};return D(Y(n,"scrollbarElement"),"mousemove",k),D(Y(n,"scrollbarElement"),"mouseleave",A),(s,r)=>(H(),$(Ce,{name:b(a).b("fade"),persisted:""},{default:oe(()=>[_e(F("div",{ref_key:"instance",ref:l,class:M([b(a).e("bar"),b(a).is(b(u).key)]),onMousedown:z},[F("div",{ref_key:"thumb",ref:f,class:M(b(a).e("thumb")),style:U(b(h)),onMousedown:w},null,38)],34),[[xe,s.always||i.value]])]),_:1},8,["name"]))}});var j=X(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const vt=K({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),ht=B({__name:"bar",props:vt,setup(e,{expose:t}){const n=e,a=p(0),l=p(0);return t({handleScroll:c=>{if(c){const i=c.offsetHeight-C,o=c.offsetWidth-C;l.value=c.scrollTop*100/i*n.ratioY,a.value=c.scrollLeft*100/o*n.ratioX}}}),(c,i)=>(H(),ie(Re,null,[G(j,{move:a.value,ratio:c.ratioX,size:c.width,always:c.always},null,8,["move","ratio","size","always"]),G(j,{move:l.value,ratio:c.ratioY,size:c.height,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var pt=X(ht,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const gt=K({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ze([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),yt={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(L)},bt="ElScrollbar",wt=B({name:bt}),St=B({...wt,props:gt,emits:yt,setup(e,{expose:t,emit:n}){const a=e,l=se("scrollbar");let f,c;const i=p(),o=p(),m=p(),v=p("0"),u=p("0"),h=p(),g=p(1),w=p(1),z=R(()=>{const r={};return a.height&&(r.height=q(a.height)),a.maxHeight&&(r.maxHeight=q(a.maxHeight)),[a.wrapStyle,r]}),x=R(()=>[a.wrapClass,l.e("wrap"),{[l.em("wrap","hidden-default")]:!a.native}]),S=R(()=>[l.e("view"),a.viewClass]),E=()=>{var r;o.value&&((r=h.value)==null||r.handleScroll(o.value),n("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function k(r,d){Ie(r)?o.value.scrollTo(r):L(r)&&L(d)&&o.value.scrollTo(r,d)}const A=r=>{L(r)&&(o.value.scrollTop=r)},T=r=>{L(r)&&(o.value.scrollLeft=r)},s=()=>{if(!o.value)return;const r=o.value.offsetHeight-C,d=o.value.offsetWidth-C,y=r**2/o.value.scrollHeight,P=d**2/o.value.scrollWidth,O=Math.max(y,a.minSize),N=Math.max(P,a.minSize);g.value=y/(r-y)/(O/(r-O)),w.value=P/(d-P)/(N/(d-N)),u.value=O+C<r?"".concat(O,"px"):"",v.value=N+C<d?"".concat(N,"px"):""};return J(()=>a.noresize,r=>{r?(f==null||f(),c==null||c()):({stop:f}=ke(m,s),c=D("resize",s))},{immediate:!0}),J(()=>[a.maxHeight,a.height],()=>{a.native||Q(()=>{var r;s(),o.value&&((r=h.value)==null||r.handleScroll(o.value))})}),Ae(fe,Pe({scrollbarElement:i,wrapElement:o})),Le(()=>{a.native||Q(()=>{s()})}),He(()=>s()),t({wrapRef:o,update:s,scrollTo:k,setScrollTop:A,setScrollLeft:T,handleScroll:E}),(r,d)=>(H(),ie("div",{ref_key:"scrollbarRef",ref:i,class:M(b(l).b())},[F("div",{ref_key:"wrapRef",ref:o,class:M(b(x)),style:U(b(z)),onScroll:E},[(H(),$(Oe(r.tag),{ref_key:"resizeRef",ref:m,class:M(b(S)),style:U(r.viewStyle)},{default:oe(()=>[Me(r.$slots,"default")]),_:3},8,["class","style"]))],38),r.native?Ne("v-if",!0):(H(),$(pt,{key:0,ref_key:"barRef",ref:h,height:u.value,width:v.value,always:r.always,"ratio-x":w.value,"ratio-y":g.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var Et=X(St,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const Rt=Be(Et),_=new Map;let ee;le&&(document.addEventListener("mousedown",e=>ee=e),document.addEventListener("mouseup",e=>{for(const t of _.values())for(const{documentHandler:n}of t)n(e,ee)}));function te(e,t){let n=[];return Array.isArray(t.arg)?n=t.arg:We(t.arg)&&n.push(t.arg),function(a,l){const f=t.instance.popperRef,c=a.target,i=l==null?void 0:l.target,o=!t||!t.instance,m=!c||!i,v=e.contains(c)||e.contains(i),u=e===c,h=n.length&&n.some(w=>w==null?void 0:w.contains(c))||n.length&&n.includes(i),g=f&&(f.contains(c)||f.contains(i));o||m||v||u||h||g||t.value(a,l)}}const zt={beforeMount(e,t){_.has(e)||_.set(e,[]),_.get(e).push({documentHandler:te(e,t),bindingFn:t.value})},updated(e,t){_.has(e)||_.set(e,[]);const n=_.get(e),a=n.findIndex(f=>f.bindingFn===t.oldValue),l={documentHandler:te(e,t),bindingFn:t.value};a>=0?n.splice(a,1,l):n.push(l)},unmounted(e){_.delete(e)}};export{zt as C,Rt as E,xt as b,Ct as d,Z as t};
